<div class="apidocDiv">
<style>
/*csslint
*/
.apidocDiv {
    background: #fff;
    font-family: Arial, Helvetica, sans-serif;
}
.apidocDiv a[href] {
    color: #33f;
    font-weight: bold;
    text-decoration: none;
}
.apidocDiv a[href]:hover {
    text-decoration: underline;
}
.apidocCodeCommentSpan {
    background: #bbf;
    color: #000;
    display: block;
}
.apidocCodeKeywordSpan {
    color: #d00;
    font-weight: bold;
}
.apidocCodePre {
    background: #eef;
    border: 1px solid;
    color: #777;
    padding: 5px;
    white-space: pre-wrap;
}
.apidocFooterDiv {
    margin-top: 20px;
    text-align: center;
}
.apidocModuleLi {
    margin-top: 10px;
}
.apidocSectionDiv {
    border-top: 1px solid;
    margin-top: 20px;
}
.apidocSignatureSpan {
    color: #777;
    font-weight: bold;
}
</style>
<h1>api documentation for
    <a

        href="https://github.com/catberry/catberry"

    >catberry (v9.0.0)</a>
</h1>
<h4>Catberry is an isomorphic framework for building universal front-end apps using components, Flux architecture and progressive rendering.</h4>
<div class="apidocSectionDiv"><a
    href="#apidoc.tableOfContents"
    id="apidoc.tableOfContents"
><h1>table of contents</h1></a><ol>

    <li class="apidocModuleLi"><a href="#apidoc.module.catberry">module catberry</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.catberry._catberryConstructor">
            function <span class="apidocSignatureSpan">catberry.</span>_catberryConstructor
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">catberry.</span>Bootstrapper</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">catberry.</span>errorHelper</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">catberry.</span>fs</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">catberry.</span>hrTimeHelper</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">catberry.</span>loadHelper</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">catberry.</span>moduleHelper</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">catberry.</span>promiseHelper</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">catberry.</span>propertyHelper</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">catberry.</span>requireHelper</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">catberry.</span>templateHelper</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">catberry.</span>uriHelper</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.catberry.Bootstrapper">module catberry.Bootstrapper</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.catberry.Bootstrapper._catberryConstructor">
            function <span class="apidocSignatureSpan">catberry.Bootstrapper.</span>_catberryConstructor
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.catberry.errorHelper">module catberry.errorHelper</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.catberry.errorHelper.prettyPrint">
            function <span class="apidocSignatureSpan">catberry.errorHelper.</span>prettyPrint
            <span class="apidocSignatureSpan">(error, userAgent)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.catberry.fs">module catberry.fs</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.catberry.fs.exists">
            function <span class="apidocSignatureSpan">catberry.fs.</span>exists
            <span class="apidocSignatureSpan">(fulfill =&#x3e; fs.exists(toCheck, isExists =&#x3e; fulfill(isExists)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.catberry.fs.makeDir">
            function <span class="apidocSignatureSpan">catberry.fs.</span>makeDir
            <span class="apidocSignatureSpan">(...args)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.catberry.fs.readFile">
            function <span class="apidocSignatureSpan">catberry.fs.</span>readFile
            <span class="apidocSignatureSpan">(...args)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.catberry.fs.unlink">
            function <span class="apidocSignatureSpan">catberry.fs.</span>unlink
            <span class="apidocSignatureSpan">(...args)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.catberry.fs.writeFile">
            function <span class="apidocSignatureSpan">catberry.fs.</span>writeFile
            <span class="apidocSignatureSpan">(...args)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.catberry.hrTimeHelper">module catberry.hrTimeHelper</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.catberry.hrTimeHelper.get">
            function <span class="apidocSignatureSpan">catberry.hrTimeHelper.</span>get
            <span class="apidocSignatureSpan">(ar)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.catberry.hrTimeHelper.toMessage">
            function <span class="apidocSignatureSpan">catberry.hrTimeHelper.</span>toMessage
            <span class="apidocSignatureSpan">(source, opts)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.catberry.hrTimeHelper.toMilliseconds">
            function <span class="apidocSignatureSpan">catberry.hrTimeHelper.</span>toMilliseconds
            <span class="apidocSignatureSpan">(hrTime[1] / 1e6)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.catberry.loadHelper">module catberry.loadHelper</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.catberry.loadHelper.assignTemplateProviders">
            function <span class="apidocSignatureSpan">catberry.loadHelper.</span>assignTemplateProviders
            <span class="apidocSignatureSpan">(component, providers)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.catberry.loadHelper.compileTemplates">
            function <span class="apidocSignatureSpan">catberry.loadHelper.</span>compileTemplates
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.catberry.loadHelper.loadTemplateSources">
            function <span class="apidocSignatureSpan">catberry.loadHelper.</span>loadTemplateSources
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.catberry.moduleHelper">module catberry.moduleHelper</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.catberry.moduleHelper.getCamelCaseName">
            function <span class="apidocSignatureSpan">catberry.moduleHelper.</span>getCamelCaseName
            <span class="apidocSignatureSpan">(prefix, name)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.catberry.moduleHelper.getMethodToInvoke">
            function <span class="apidocSignatureSpan">catberry.moduleHelper.</span>getMethodToInvoke
            <span class="apidocSignatureSpan">(module, prefix, name)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.catberry.moduleHelper.getNameForErrorTemplate">
            function <span class="apidocSignatureSpan">catberry.moduleHelper.</span>getNameForErrorTemplate
            <span class="apidocSignatureSpan">(typeof (componentName)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.catberry.moduleHelper.getOriginalComponentName">
            function <span class="apidocSignatureSpan">catberry.moduleHelper.</span>getOriginalComponentName
            <span class="apidocSignatureSpan">(typeof (fullComponentName)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.catberry.moduleHelper.getSafePromise">
            function <span class="apidocSignatureSpan">catberry.moduleHelper.</span>getSafePromise
            <span class="apidocSignatureSpan">(action()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.catberry.moduleHelper.getTagNameForComponentName">
            function <span class="apidocSignatureSpan">catberry.moduleHelper.</span>getTagNameForComponentName
            <span class="apidocSignatureSpan">(typeof (componentName)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.catberry.moduleHelper.isComponentNode">
            function <span class="apidocSignatureSpan">catberry.moduleHelper.</span>isComponentNode
            <span class="apidocSignatureSpan">( helper.COMPONENT_PREFIX_REGEXP.test(node.nodeName)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.catberry.moduleHelper.isDocumentComponent">
            function <span class="apidocSignatureSpan">catberry.moduleHelper.</span>isDocumentComponent
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.catberry.moduleHelper.isHeadComponent">
            function <span class="apidocSignatureSpan">catberry.moduleHelper.</span>isHeadComponent
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">catberry.moduleHelper.</span>ELEMENT_NODE_TYPE</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">catberry.moduleHelper.</span>COMPONENT_PREFIX_REGEXP</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">catberry.moduleHelper.</span>ATTRIBUTE_STORE</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">catberry.moduleHelper.</span>COMPONENT_ERROR_TEMPLATE_POSTFIX</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">catberry.moduleHelper.</span>COMPONENT_ID</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">catberry.moduleHelper.</span>COMPONENT_TAG_PREFIX</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">catberry.moduleHelper.</span>DEFAULT_LOGIC_FILENAME</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">catberry.moduleHelper.</span>DOCUMENT_COMPONENT_NAME</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">catberry.moduleHelper.</span>DOCUMENT_TAG_NAME</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">catberry.moduleHelper.</span>HEAD_COMPONENT_NAME</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">catberry.moduleHelper.</span>HEAD_TAG_NAME</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.catberry.promiseHelper">module catberry.promiseHelper</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.catberry.promiseHelper.callbackToPromise">
            function <span class="apidocSignatureSpan">catberry.promiseHelper.</span>callbackToPromise
            <span class="apidocSignatureSpan">(...args)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.catberry.propertyHelper">module catberry.propertyHelper</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.catberry.propertyHelper.defineReadOnly">
            function <span class="apidocSignatureSpan">catberry.propertyHelper.</span>defineReadOnly
            <span class="apidocSignatureSpan">(object, name, value)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.catberry.requireHelper">module catberry.requireHelper</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.catberry.requireHelper.clearCacheKey">
            function <span class="apidocSignatureSpan">catberry.requireHelper.</span>clearCacheKey
            <span class="apidocSignatureSpan">(/\\|\//g, path.sep)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.catberry.requireHelper.getAbsoluteRequirePath">
            function <span class="apidocSignatureSpan">catberry.requireHelper.</span>getAbsoluteRequirePath
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.catberry.requireHelper.getValidPath">
            function <span class="apidocSignatureSpan">catberry.requireHelper.</span>getValidPath
            <span class="apidocSignatureSpan">(path)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.catberry.templateHelper">module catberry.templateHelper</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.catberry.templateHelper.registerTemplates">
            function <span class="apidocSignatureSpan">catberry.templateHelper.</span>registerTemplates
            <span class="apidocSignatureSpan">(component.name, component.compiledTemplate)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.catberry.templateHelper.resolveTemplateProviders">
            function <span class="apidocSignatureSpan">catberry.templateHelper.</span>resolveTemplateProviders
            <span class="apidocSignatureSpan">(&#x27;eventBus&#x27;)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.catberry.templateHelper.resolveTemplateProvidersByNames">
            function <span class="apidocSignatureSpan">catberry.templateHelper.</span>resolveTemplateProvidersByNames
            <span class="apidocSignatureSpan">(locator)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.catberry.uriHelper">module catberry.uriHelper</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.catberry.uriHelper.removeEndSlash">
            function <span class="apidocSignatureSpan">catberry.uriHelper.</span>removeEndSlash
            <span class="apidocSignatureSpan">(uriPath)</span>
            </a>

        </li>

    </ol></li>

</ol></div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.catberry" id="apidoc.module.catberry">module catberry</a></h1>


    <h2>
        <a href="#apidoc.element.catberry._catberryConstructor" id="apidoc.element.catberry._catberryConstructor">
        function <span class="apidocSignatureSpan">catberry.</span>_catberryConstructor
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">class Catberry extends CatberryBase {

	<span class="apidocCodeCommentSpan">/**
	 * Creates a new instance of the server-side Catberry.
	 */
</span>	constructor() {
		super();

		/**
		 * Current request router.
		 * @type {RequestRouter}
		 * @private
		 */
		this._router = null;
	}

	/**
	 * Gets the connect/express middleware.
	 * @returns {Function} Middleware function.
	 */
	getMiddleware() {
		this._router = this.locator.resolve(&#x27;requestRouter&#x27;);
		return this._router.route.bind(this._router);
	}

	/**
	 * Builds the browser bundle.
	 * @returns {Promise} Promise for nothing.
	 */
	build() {
		const builder = this.locator.resolve(&#x27;browserBundleBuilder&#x27;);
		return builder.build();
	}
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	/**
	 * Creates a new full-configured instance of the Catberry application.
	 * @param {Object?} configObject The configuration object.
	 * @returns {Catberry} The Catberry application instance.
	 */
	create(configObject) {
		const currentConfig = configObject || {};
		const catberry = new this.<span class="apidocCodeKeywordSpan">_catberryConstructor</span>();

		this.configure(currentConfig, catberry.locator);
		catberry.events = new ModuleApiProviderBase(catberry.locator);
		return catberry;
	}

	/**
...</pre></li>
    </ul>
























</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.catberry.Bootstrapper" id="apidoc.module.catberry.Bootstrapper">module catberry.Bootstrapper</a></h1>


    <h2>
        <a href="#apidoc.element.catberry.Bootstrapper._catberryConstructor" id="apidoc.element.catberry.Bootstrapper._catberryConstructor">
        function <span class="apidocSignatureSpan">catberry.Bootstrapper.</span>_catberryConstructor
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">class Catberry extends CatberryBase {

	<span class="apidocCodeCommentSpan">/**
	 * Creates a new instance of the server-side Catberry.
	 */
</span>	constructor() {
		super();

		/**
		 * Current request router.
		 * @type {RequestRouter}
		 * @private
		 */
		this._router = null;
	}

	/**
	 * Gets the connect/express middleware.
	 * @returns {Function} Middleware function.
	 */
	getMiddleware() {
		this._router = this.locator.resolve(&#x27;requestRouter&#x27;);
		return this._router.route.bind(this._router);
	}

	/**
	 * Builds the browser bundle.
	 * @returns {Promise} Promise for nothing.
	 */
	build() {
		const builder = this.locator.resolve(&#x27;browserBundleBuilder&#x27;);
		return builder.build();
	}
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	/**
	 * Creates a new full-configured instance of the Catberry application.
	 * @param {Object?} configObject The configuration object.
	 * @returns {Catberry} The Catberry application instance.
	 */
	create(configObject) {
		const currentConfig = configObject || {};
		const catberry = new this.<span class="apidocCodeKeywordSpan">_catberryConstructor</span>();

		this.configure(currentConfig, catberry.locator);
		catberry.events = new ModuleApiProviderBase(catberry.locator);
		return catberry;
	}

	/**
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.catberry.errorHelper" id="apidoc.module.catberry.errorHelper">module catberry.errorHelper</a></h1>


    <h2>
        <a href="#apidoc.element.catberry.errorHelper.prettyPrint" id="apidoc.element.catberry.errorHelper.prettyPrint">
        function <span class="apidocSignatureSpan">catberry.errorHelper.</span>prettyPrint
        <span class="apidocSignatureSpan">(error, userAgent)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">(error, userAgent) =&#x3e; {
		if (!error || typeof (error) !== &#x27;object&#x27;) {
			return &#x27;&#x27;;
		}
		return `
&#x3c;div style=&#x22;background-color: white; font-size: 12pt;&#x22;&#x3e;
	${(new Date()).toUTCString()};&#x3c;br/&#x3e;
	${userAgent || &#x27;Unknown browser&#x27;};&#x3c;br/&#x3e;
	Catberry@9.0.0 (
	&#x3c;a href=&#x22;https://github.com/catberry/catberry/issues&#x22; target=&#x22;_blank&#x22;&#x3e;
		report an issue
	&#x3c;/a&#x3e;)
	&#x3c;br/&#x3e;&#x3c;br/&#x3e;
	&#x3c;span style=&#x22;color: red; font-size: 16pt; font-weight: bold;&#x22;&#x3e;
		${escape(error.name)}: ${escape(error.message)}
	&#x3c;/span&#x3e;
	&#x3c;br/&#x3e;&#x3c;br/&#x3e;
	${escape(error.stack).replace(ERROR_MESSAGE_REGEXP, &#x27;&#x27;)}
&#x3c;/div&#x3e;
`;
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
			.then(() =&#x3e; {
				// do not corrupt existed HEAD when error occurs
				if (element.tagName === TAG_NAMES.HEAD) {
					return &#x27;&#x27;;
				}

				if (!this._config.isRelease &#x26;&#x26; error instanceof Error) {
					return errorHelper.<span class="apidocCodeKeywordSpan">prettyPrint</span>(error, this._window.navigator.userAgent);
				} else if (component.errorTemplate) {
					return component.errorTemplate.render(error);
				}

				return &#x27;&#x27;;
			})
			.catch(() =&#x3e; &#x27;&#x27;);
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.catberry.fs" id="apidoc.module.catberry.fs">module catberry.fs</a></h1>


    <h2>
        <a href="#apidoc.element.catberry.fs.exists" id="apidoc.element.catberry.fs.exists">
        function <span class="apidocSignatureSpan">catberry.fs.</span>exists
        <span class="apidocSignatureSpan">(fulfill =&#x3e; fs.exists(toCheck, isExists =&#x3e; fulfill(isExists)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">toCheck =&#x3e; new Promise(fulfill =&#x3e; fs.exists(toCheck, isExists =&#x3e; fulfill(isExists)))</pre></li>
    <li>example usage<pre class="apidocCodePre">...
				.then(results =&#x3e; ({
					file,
					stores: results[0],
					components: results[1]
				})))
			// check if paths exist and create require statements or undefined
			.then(context =&#x3e;
				pfs.<span class="apidocCodeKeywordSpan">exists</span>(routeDefinitionsPath)
					.then(isExists =&#x3e; {
						const filePath = path.relative(
							process.cwd(), requireHelper.getValidPath(routeDefinitionsPath)
						);
						const requireString = isExists ? `require(&#x27;./${filePath}&#x27;)` : &#x27;null&#x27;;
						const routeDescriptors = [];
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.catberry.fs.makeDir" id="apidoc.element.catberry.fs.makeDir">
        function <span class="apidocSignatureSpan">catberry.fs.</span>makeDir
        <span class="apidocSignatureSpan">(...args)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">makeDir = function (...args) {
			return new Promise((fulfill, reject) =&#x3e; {
				args.push((error, result) =&#x3e; {
					if (error) {
						reject(error);
						return;
					}
					fulfill(result);
				});
				methodWithCallback.apply(this, args);
			});
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.catberry.fs.readFile" id="apidoc.element.catberry.fs.readFile">
        function <span class="apidocSignatureSpan">catberry.fs.</span>readFile
        <span class="apidocSignatureSpan">(...args)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">readFile = function (...args) {
			return new Promise((fulfill, reject) =&#x3e; {
				args.push((error, result) =&#x3e; {
					if (error) {
						reject(error);
						return;
					}
					fulfill(result);
				});
				methodWithCallback.apply(this, args);
			});
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
			process.cwd(),
			ROUTE_DEFINITIONS_FILENAME
		);

		const startTime = hrTimeHelper.get();
		this._eventBus.emit(&#x27;info&#x27;, `Building app definitions using the template &#x22;${appDefinitionsTemplatePath}&#x22;...`);

		return pfs.<span class="apidocCodeKeywordSpan">readFile</span>(appDefinitionsTemplatePath, {
			encoding: &#x27;utf8&#x27;
		})
			.then(file =&#x3e; Promise
				.all([
					this._generateStoreDescriptors(stores),
					this._generateComponentDescriptors(components)
				])
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.catberry.fs.unlink" id="apidoc.element.catberry.fs.unlink">
        function <span class="apidocSignatureSpan">catberry.fs.</span>unlink
        <span class="apidocSignatureSpan">(...args)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">unlink = function (...args) {
			return new Promise((fulfill, reject) =&#x3e; {
				args.push((error, result) =&#x3e; {
					if (error) {
						reject(error);
						return;
					}
					fulfill(result);
				});
				methodWithCallback.apply(this, args);
			});
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
					)
					.bundle()
				)
			)

			.then(() =&#x3e; this._doPostBuildActions())
			.then(() =&#x3e; this._isRelease ?
					pfs.<span class="apidocCodeKeywordSpan">unlink</span>(this._appDefinitionsPath) :
					this._watch()
			)
			.catch(reason =&#x3e; this._eventBus.emit(&#x27;error&#x27;, reason));
	}

	/**
	 * Creates a app definitions file for the bundler.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.catberry.fs.writeFile" id="apidoc.element.catberry.fs.writeFile">
        function <span class="apidocSignatureSpan">catberry.fs.</span>writeFile
        <span class="apidocSignatureSpan">(...args)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">writeFile = function (...args) {
			return new Promise((fulfill, reject) =&#x3e; {
				args.push((error, result) =&#x3e; {
					if (error) {
						reject(error);
						return;
					}
					fulfill(result);
				});
				methodWithCallback.apply(this, args);
			});
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
		])
			.then(found =&#x3e; this._appDefinitionsBuilder.build(found[0], found[1]))
			.then(realAppDefinitions =&#x3e; {
				if (realAppDefinitions === this._appDefinitionsCache) {
					return null;
				}
				this._appDefinitionsCache = realAppDefinitions;
				return pfs.<span class="apidocCodeKeywordSpan">writeFile</span>(this._appDefinitionsPath, realAppDefinitions);
			});
	}

	/**
	 * Creates the browserify bundler for the app or re-uses the existing one.
	 * @returns {Browserify} The browserify instance.
	 * @private
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.catberry.hrTimeHelper" id="apidoc.module.catberry.hrTimeHelper">module catberry.hrTimeHelper</a></h1>


    <h2>
        <a href="#apidoc.element.catberry.hrTimeHelper.get" id="apidoc.element.catberry.hrTimeHelper.get">
        function <span class="apidocSignatureSpan">catberry.hrTimeHelper.</span>get
        <span class="apidocSignatureSpan">(ar)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function hrtime(ar) {
  _hrtime(hrValues);

  if (typeof ar !== &#x27;undefined&#x27;) {
    if (Array.isArray(ar)) {
      const sec = (hrValues[0] * 0x100000000 + hrValues[1]) - ar[0];
      const nsec = hrValues[2] - ar[1];
      return [nsec &#x3c; 0 ? sec - 1 : sec, nsec &#x3c; 0 ? nsec + 1e9 : nsec];
    }

    throw new TypeError(&#x27;process.hrtime() only accepts an Array tuple&#x27;);
  }

  return [
    hrValues[0] * 0x100000000 + hrValues[1],
    hrValues[2]
  ];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
				const eventArgs = {
					name: componentName,
					context: instance.$context
				};

				this._componentElements[id] = element;

				const startTime = hrTimeHelper.<span class="apidocCodeKeywordSpan">get</span>();
				this._eventBus.emit(&#x27;componentRender&#x27;, eventArgs);

				return Promise.resolve()
					.then(() =&#x3e; {
						// we need unbind the whole hierarchy only at
						// the beginning and not for new elements
						if (!(id in renderingContext.rootIds) || !hadChildren) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.catberry.hrTimeHelper.toMessage" id="apidoc.element.catberry.hrTimeHelper.toMessage">
        function <span class="apidocSignatureSpan">catberry.hrTimeHelper.</span>toMessage
        <span class="apidocSignatureSpan">(source, opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">toMessage = function (source, opts) {
	var verbose, precise, i, spot, sourceAtStep, valAtStep, decimals, strAtStep, results, totalSeconds;

	verbose = false;
	precise = false;
	if (opts) {
		verbose = opts.verbose || false;
		precise = opts.precise || false;
	}

	if (!Array.isArray(source) || source.length !== 2) {
		return &#x27;&#x27;;
	}
	if (typeof source[0] !== &#x27;number&#x27; || typeof source[1] !== &#x27;number&#x27;) {
		return &#x27;&#x27;;
	}

	// normalize source array due to changes in node v5.4+
	if (source[1] &#x3c; 0) {
		totalSeconds = source[0] + source[1] / 1e9;
		source[0] = parseInt(totalSeconds);
		source[1] = parseFloat((totalSeconds % 1).toPrecision(9)) * 1e9;
	}

	results = &#x27;&#x27;;

	// foreach unit
	for (i = 0; i &#x3c; 6; i++) {
		spot = i &#x3c; 3 ? 0 : 1; // grabbing first or second spot in source array
		sourceAtStep = source[spot];
		if (i !== 3 &#x26;&#x26; i !== 0) {
			sourceAtStep = sourceAtStep % convert[i-1]; // trim off previous portions
		}
		if (i === 2) {
			sourceAtStep += source[1]/1e9; // get partial seconds from other portion of the array
		}
		valAtStep = sourceAtStep / convert[i]; // val at this unit
		if (valAtStep &#x3e;= 1) {
			if (verbose) {
				valAtStep = Math.floor(valAtStep); // deal in whole units, subsequent laps will get the decimal portion
			}
			if (!precise) {
				// don&#x27;t fling too many decimals
				decimals = valAtStep &#x3e;= 10 ? 0 : 2;
				strAtStep = valAtStep.toFixed(decimals);
			} else {
				strAtStep = valAtStep.toString();
			}
			if (strAtStep.indexOf(&#x27;.&#x27;) &#x3e; -1 &#x26;&#x26; strAtStep[strAtStep.length-1] === &#x27;0&#x27;) {
				strAtStep = strAtStep.replace(/\.?0+$/,&#x27;&#x27;); // remove trailing zeros
			}
			if (results) {
				results += &#x27; &#x27;; // append space if we have a previous value
			}
			results += strAtStep; // append the value
			// append units
			if (verbose) {
				results += &#x27; &#x27;+verboseDesc[i];
				if (strAtStep !== &#x27;1&#x27;) {
					results += &#x27;s&#x27;;
				}
			} else {
				results += &#x27; &#x27;+minimalDesc[i];
			}
			if (!verbose) {
				break; // verbose gets as many groups as necessary, the rest get only one
			}
		}
	}

	return results;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
		const address = request.socket.remoteAddress;
		const port = request.socket.remotePort;

		this._eventBus.emit(&#x27;trace&#x27;, `Request to ${method} &#x22;${uriPath}&#x22; from ${address}:${port}`);

		response.on(&#x27;finish&#x27;, () =&#x3e; {
			const requestDuration = hrTimeHelper.get(requestStartTime);
			const timeMessage = hrTimeHelper.<span class="apidocCodeKeywordSpan">toMessage</span>(requestDuration);

			this._eventBus.emit(&#x27;trace&#x27;, `Response from ${method} &#x22;${uriPath}&#x22; to ${address}:${port} (${timeMessage})`);
		});

		this._documentRenderer.render(state, routingContext);
	}
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.catberry.hrTimeHelper.toMilliseconds" id="apidoc.element.catberry.hrTimeHelper.toMilliseconds">
        function <span class="apidocSignatureSpan">catberry.hrTimeHelper.</span>toMilliseconds
        <span class="apidocSignatureSpan">(hrTime[1] / 1e6)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">hrTime =&#x3e; hrTime[0] * 1e3 + Math.round(hrTime[1] / 1e6)</pre></li>
    <li>example usage<pre class="apidocCodePre">...
						)
							.map(child =&#x3e; this.renderComponent(child, renderingContext));

						return Promise.all(promises);
					})
					.then(() =&#x3e; {
						eventArgs.hrTime = hrTimeHelper.get(startTime);
						eventArgs.time = hrTimeHelper.<span class="apidocCodeKeywordSpan">toMilliseconds</span>(eventArgs.hrTime);
						this._eventBus.emit(&#x27;componentRendered&#x27;, eventArgs);
						return this._bindComponent(element);
					})
					.then(() =&#x3e; {
						// collecting garbage only when
						// the entire rendering is finished
						if (!(id in renderingContext.rootIds) || !hadChildren) {
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.catberry.loadHelper" id="apidoc.module.catberry.loadHelper">module catberry.loadHelper</a></h1>


    <h2>
        <a href="#apidoc.element.catberry.loadHelper.assignTemplateProviders" id="apidoc.element.catberry.loadHelper.assignTemplateProviders">
        function <span class="apidocSignatureSpan">catberry.loadHelper.</span>assignTemplateProviders
        <span class="apidocSignatureSpan">(component, providers)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">(component, providers) =&#x3e; {
		component.templateProvider = findTemplateProvider(providers, component.properties.template, component.templateSource);
		if (!component.templateProvider) {
			throw new Error(`No template provider found that would be able to compile and render the template &#x22;${component.properties.template
}&#x22; in &#x22;${component.name}&#x22; component`);
		}

		component.errorTemplateProvider = null;
		if (typeof (component.errorTemplateSource) !== &#x27;string&#x27;) {
			return;
		}
		component.errorTemplateProvider = findTemplateProvider(providers, component.properties.errorTemplate, component.errorTemplateSource
);
		if (!component.errorTemplateProvider) {
			throw new Error(`No template provider found that would be able to compile and render the error template &#x22;${component.properties
.errorTemplate}&#x22; in &#x22;${component.name}&#x22; component`);
		}
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
				if (typeof (constructor) !== &#x27;function&#x27; ||
					typeof (componentDetails.properties.template) !== &#x27;string&#x27;) {
					return;
				}

				const component = Object.create(componentDetails);
				const promise = loadHelper.loadTemplateSources(component)
					.then(() =&#x3e; loadHelper.<span class="apidocCodeKeywordSpan">assignTemplateProviders</span>(component, this._templateProviders
))
					.then(() =&#x3e; loadHelper.compileTemplates(component))
					.then(() =&#x3e; {
						const filePath = requireHelper.getValidPath(relativeLogicPath);
						const requireString = `require(&#x27;./${filePath}&#x27;)`;
						const errorTemplateString = component.compiledErrorTemplate !== null ?
										`&#x27;${escapeTemplateSource(component.compiledErrorTemplate)}&#x27;` : &#x27;null&#x27;;
						const errorTemplateProvider = component.errorTemplateProvider !== null ?
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.catberry.loadHelper.compileTemplates" id="apidoc.element.catberry.loadHelper.compileTemplates">
        function <span class="apidocSignatureSpan">catberry.loadHelper.</span>compileTemplates
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">component =&#x3e; {
		const templateCompilePromise = Promise.resolve()
			.then(() =&#x3e; component.templateProvider.compile(component.templateSource, component.name));

		const errorTemplateName = moduleHelper.getNameForErrorTemplate(component.name);
		const errorTemplateCompilePromise = Promise.resolve()
			.then(() =&#x3e; {
				if (!component.errorTemplateSource) {
					return null;
				}
				return component.errorTemplateProvider.compile(component.errorTemplateSource, errorTemplateName);
			});

		return Promise.all([
			templateCompilePromise,
			errorTemplateCompilePromise
		])
			.then(compiledTemplates =&#x3e; {
				component.compiledTemplate = compiledTemplates[0];
				component.compiledErrorTemplate = compiledTemplates[1] || null;
			});
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
					typeof (componentDetails.properties.template) !== &#x27;string&#x27;) {
					return;
				}

				const component = Object.create(componentDetails);
				const promise = loadHelper.loadTemplateSources(component)
					.then(() =&#x3e; loadHelper.assignTemplateProviders(component, this._templateProviders))
					.then(() =&#x3e; loadHelper.<span class="apidocCodeKeywordSpan">compileTemplates</span>(component))
					.then(() =&#x3e; {
						const filePath = requireHelper.getValidPath(relativeLogicPath);
						const requireString = `require(&#x27;./${filePath}&#x27;)`;
						const errorTemplateString = component.compiledErrorTemplate !== null ?
										`&#x27;${escapeTemplateSource(component.compiledErrorTemplate)}&#x27;` : &#x27;null&#x27;;
						const errorTemplateProvider = component.errorTemplateProvider !== null ?
										`&#x27;${component.errorTemplateProvider.getName()}&#x27;` : &#x27;null&#x27;;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.catberry.loadHelper.loadTemplateSources" id="apidoc.element.catberry.loadHelper.loadTemplateSources">
        function <span class="apidocSignatureSpan">catberry.loadHelper.</span>loadTemplateSources
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">component =&#x3e; {
		const templateSourcePromise = Promise.resolve()
			.then(() =&#x3e; {
				const templatePath = path.resolve(
					path.dirname(component.path),
					component.properties.template
				);
				return fs.readFile(templatePath)
					.then(source =&#x3e; {
						component.templateSource = source.toString();
					});
			});

		const errorTemplateSourcePromise = Promise.resolve()
			.then(() =&#x3e; {
				component.errorTemplateSource = null;
				const relativePath = component.properties.errorTemplate;
				if (typeof (relativePath) !== &#x27;string&#x27;) {
					return null;
				}
				const templatePath = path.resolve(
					path.dirname(component.path),
					relativePath
				);
				return fs.readFile(templatePath)
					.then(source =&#x3e; {
						component.errorTemplateSource = source.toString();
					});
			});

		return Promise.all([
			templateSourcePromise, errorTemplateSourcePromise
		]);
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

				if (typeof (constructor) !== &#x27;function&#x27; ||
					typeof (componentDetails.properties.template) !== &#x27;string&#x27;) {
					return;
				}

				const component = Object.create(componentDetails);
				const promise = loadHelper.<span class="apidocCodeKeywordSpan">loadTemplateSources</span>(component)
					.then(() =&#x3e; loadHelper.assignTemplateProviders(component, this._templateProviders))
					.then(() =&#x3e; loadHelper.compileTemplates(component))
					.then(() =&#x3e; {
						const filePath = requireHelper.getValidPath(relativeLogicPath);
						const requireString = `require(&#x27;./${filePath}&#x27;)`;
						const errorTemplateString = component.compiledErrorTemplate !== null ?
										`&#x27;${escapeTemplateSource(component.compiledErrorTemplate)}&#x27;` : &#x27;null&#x27;;
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.catberry.moduleHelper" id="apidoc.module.catberry.moduleHelper">module catberry.moduleHelper</a></h1>


    <h2>
        <a href="#apidoc.element.catberry.moduleHelper.getCamelCaseName" id="apidoc.element.catberry.moduleHelper.getCamelCaseName">
        function <span class="apidocSignatureSpan">catberry.moduleHelper.</span>getCamelCaseName
        <span class="apidocSignatureSpan">(prefix, name)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">(prefix, name) =&#x3e; {
		if (!name) {
			return &#x27;&#x27;;
		}
		if (prefix) {
			name = `${prefix}-${name}`;
		}
		return name
			.replace(/(?:[^a-z0-9]+)(\w)/gi, (space, letter) =&#x3e; letter.toUpperCase())
			.replace(/(^[^a-z0-9])|([^a-z0-9]$)/gi, &#x27;&#x27;);
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	 * (will be converted to a camel case).
	 * @returns {Function} The method to invoke.
	 */
	getMethodToInvoke: (module, prefix, name) =&#x3e; {
		if (!module || typeof (module) !== &#x27;object&#x27;) {
			return defaultPromiseMethod;
		}
		const methodName = helper.<span class="apidocCodeKeywordSpan">getCamelCaseName</span>(prefix, name);
		if (typeof (module[methodName]) === &#x27;function&#x27;) {
			return module[methodName].bind(module);
		}
		if (typeof (module[prefix]) === &#x27;function&#x27;) {
			return module[prefix].bind(module, name);
		}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.catberry.moduleHelper.getMethodToInvoke" id="apidoc.element.catberry.moduleHelper.getMethodToInvoke">
        function <span class="apidocSignatureSpan">catberry.moduleHelper.</span>getMethodToInvoke
        <span class="apidocSignatureSpan">(module, prefix, name)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">(module, prefix, name) =&#x3e; {
		if (!module || typeof (module) !== &#x27;object&#x27;) {
			return defaultPromiseMethod;
		}
		const methodName = helper.getCamelCaseName(prefix, name);
		if (typeof (module[methodName]) === &#x27;function&#x27;) {
			return module[methodName].bind(module);
		}
		if (typeof (module[prefix]) === &#x27;function&#x27;) {
			return module[prefix].bind(module, name);
		}

		return defaultPromiseMethod;
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
							return [];
						}

						return this._unbindAll(element, renderingContext);
					})
					.catch(reason =&#x3e; this._eventBus.emit(&#x27;error&#x27;, reason))
					.then(() =&#x3e; {
						const renderMethod = moduleHelper.<span class="apidocCodeKeywordSpan">getMethodToInvoke</span>(instance, &#x27;render&#x27
;);
						return moduleHelper.getSafePromise(renderMethod);
					})
					.then(dataContext =&#x3e; component.template.render(dataContext))
					.catch(reason =&#x3e; this._handleRenderError(element, component, reason))
					.then(html =&#x3e; {
						const isHead = element.tagName === TAG_NAMES.HEAD;
						if (html === &#x27;&#x27; &#x26;&#x26; isHead) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.catberry.moduleHelper.getNameForErrorTemplate" id="apidoc.element.catberry.moduleHelper.getNameForErrorTemplate">
        function <span class="apidocSignatureSpan">catberry.moduleHelper.</span>getNameForErrorTemplate
        <span class="apidocSignatureSpan">(typeof (componentName)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">componentName =&#x3e; {
		if (typeof (componentName) !== &#x27;string&#x27;) {
			return &#x27;&#x27;;
		}
		return componentName + helper.COMPONENT_ERROR_TEMPLATE_POSTFIX;
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	 * @param {Object} component The component.
	 * @returns {Promise} The promise for finished work.
	 */
	compileTemplates: component =&#x3e; {
		const templateCompilePromise = Promise.resolve()
			.then(() =&#x3e; component.templateProvider.compile(component.templateSource, component.name));

		const errorTemplateName = moduleHelper.<span class="apidocCodeKeywordSpan">getNameForErrorTemplate</span>(component.name);
		const errorTemplateCompilePromise = Promise.resolve()
			.then(() =&#x3e; {
				if (!component.errorTemplateSource) {
					return null;
				}
				return component.errorTemplateProvider.compile(component.errorTemplateSource, errorTemplateName);
			});
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.catberry.moduleHelper.getOriginalComponentName" id="apidoc.element.catberry.moduleHelper.getOriginalComponentName">
        function <span class="apidocSignatureSpan">catberry.moduleHelper.</span>getOriginalComponentName
        <span class="apidocSignatureSpan">(typeof (fullComponentName)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">fullComponentName =&#x3e; {
		if (typeof (fullComponentName) !== &#x27;string&#x27;) {
			return &#x27;&#x27;;
		}

		if (fullComponentName === helper.DOCUMENT_TAG_NAME) {
			return helper.DOCUMENT_COMPONENT_NAME;
		}

		if (fullComponentName === helper.HEAD_TAG_NAME) {
			return helper.HEAD_COMPONENT_NAME;
		}

		return fullComponentName
			.toLowerCase()
			.replace(helper.COMPONENT_PREFIX_REGEXP, &#x27;&#x27;);
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	 * @param {Element} element HTML element of the component.
	 * @param {Object?} renderingContext Rendering context for group rendering.
	 */
	renderComponent(element, renderingContext) {
		return this._getPromiseForReadyState()
			.then(() =&#x3e; {
				const id = this._getId(element);
				const componentName = moduleHelper.<span class="apidocCodeKeywordSpan">getOriginalComponentName</span>(element.tagName);

				if (!renderingContext) {
					renderingContext = this._createRenderingContext([]);
					renderingContext.rootIds[id] = true;
				}

				const hadChildren = (element.children.length &#x3e; 0);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.catberry.moduleHelper.getSafePromise" id="apidoc.element.catberry.moduleHelper.getSafePromise">
        function <span class="apidocSignatureSpan">catberry.moduleHelper.</span>getSafePromise
        <span class="apidocSignatureSpan">(action()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">action =&#x3e; {
		try {
			return Promise.resolve(action());
		} catch (e) {
			return Promise.reject(e);
		}
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
						}

						return this._unbindAll(element, renderingContext);
					})
					.catch(reason =&#x3e; this._eventBus.emit(&#x27;error&#x27;, reason))
					.then(() =&#x3e; {
						const renderMethod = moduleHelper.getMethodToInvoke(instance, &#x27;render&#x27;);
						return moduleHelper.<span class="apidocCodeKeywordSpan">getSafePromise</span>(renderMethod);
					})
					.then(dataContext =&#x3e; component.template.render(dataContext))
					.catch(reason =&#x3e; this._handleRenderError(element, component, reason))
					.then(html =&#x3e; {
						const isHead = element.tagName === TAG_NAMES.HEAD;
						if (html === &#x27;&#x27; &#x26;&#x26; isHead) {
							return [];
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.catberry.moduleHelper.getTagNameForComponentName" id="apidoc.element.catberry.moduleHelper.getTagNameForComponentName">
        function <span class="apidocSignatureSpan">catberry.moduleHelper.</span>getTagNameForComponentName
        <span class="apidocSignatureSpan">(typeof (componentName)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">componentName =&#x3e; {
		if (typeof (componentName) !== &#x27;string&#x27;) {
			return &#x27;&#x27;;
		}
		const upperComponentName = componentName.toUpperCase();
		if (componentName === helper.HEAD_COMPONENT_NAME) {
			return upperComponentName;
		}
		if (componentName === helper.DOCUMENT_COMPONENT_NAME) {
			return helper.DOCUMENT_TAG_NAME;
		}
		return helper.COMPONENT_TAG_PREFIX + upperComponentName;
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

				if (moduleHelper.isHeadComponent(componentName) ||
					moduleHelper.isDocumentComponent(componentName) ||
					!(componentName in components)) {
					return Promise.reject(new Error(`Component for tag &#x22;${tagName}&#x22; not found`));
				}

				const safeTagName = moduleHelper.<span class="apidocCodeKeywordSpan">getTagNameForComponentName</span>(componentName);
				const element = this._window.document.createElement(safeTagName);
				Object.keys(attributes)
					.forEach(attributeName =&#x3e; element.setAttribute(attributeName, attributes[attributeName]));

				return this.renderComponent(element)
					.then(() =&#x3e; element);
			});
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.catberry.moduleHelper.isComponentNode" id="apidoc.element.catberry.moduleHelper.isComponentNode">
        function <span class="apidocSignatureSpan">catberry.moduleHelper.</span>isComponentNode
        <span class="apidocSignatureSpan">( helper.COMPONENT_PREFIX_REGEXP.test(node.nodeName)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">node =&#x3e;
		node.nodeType === helper.ELEMENT_NODE_TYPE &#x26;&#x26;
		( helper.COMPONENT_PREFIX_REGEXP.test(node.nodeName) ||
			node.nodeName === helper.HEAD_TAG_NAME ||
			node.nodeName === helper.DOCUMENT_TAG_NAME
		)</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	/**
	 * Checks if the element is a component.
	 * @param {Object} components Current components.
	 * @param {Element} element DOM element.
	 * @private
	 */
	_isComponentElement(components, element) {
		if (!moduleHelper.<span class="apidocCodeKeywordSpan">isComponentNode</span>(element)) {
			return false;
		}
		return moduleHelper.getOriginalComponentName(element.nodeName) in components;
	}

	/**
	 * Checks if the specified object is a component.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.catberry.moduleHelper.isDocumentComponent" id="apidoc.element.catberry.moduleHelper.isDocumentComponent">
        function <span class="apidocSignatureSpan">catberry.moduleHelper.</span>isDocumentComponent
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">componentName =&#x3e;
		componentName.toLowerCase() === helper.DOCUMENT_COMPONENT_NAME</pre></li>
    <li>example usage<pre class="apidocCodePre">...

		return this._getPromiseForReadyState()
			.then(() =&#x3e; {
				const components = this._componentLoader.getComponentsByNames();
				const componentName = moduleHelper.getOriginalComponentName(tagName);

				if (moduleHelper.isHeadComponent(componentName) ||
					moduleHelper.<span class="apidocCodeKeywordSpan">isDocumentComponent</span>(componentName) ||
					!(componentName in components)) {
					return Promise.reject(new Error(`Component for tag &#x22;${tagName}&#x22; not found`));
				}

				const safeTagName = moduleHelper.getTagNameForComponentName(componentName);
				const element = this._window.document.createElement(safeTagName);
				Object.keys(attributes)
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.catberry.moduleHelper.isHeadComponent" id="apidoc.element.catberry.moduleHelper.isHeadComponent">
        function <span class="apidocSignatureSpan">catberry.moduleHelper.</span>isHeadComponent
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">componentName =&#x3e;
		componentName.toLowerCase() === helper.HEAD_COMPONENT_NAME</pre></li>
    <li>example usage<pre class="apidocCodePre">...
		attributes = attributes || Object.create(null);

		return this._getPromiseForReadyState()
			.then(() =&#x3e; {
				const components = this._componentLoader.getComponentsByNames();
				const componentName = moduleHelper.getOriginalComponentName(tagName);

				if (moduleHelper.<span class="apidocCodeKeywordSpan">isHeadComponent</span>(componentName) ||
					moduleHelper.isDocumentComponent(componentName) ||
					!(componentName in components)) {
					return Promise.reject(new Error(`Component for tag &#x22;${tagName}&#x22; not found`));
				}

				const safeTagName = moduleHelper.getTagNameForComponentName(componentName);
				const element = this._window.document.createElement(safeTagName);
...</pre></li>
    </ul>
























</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.catberry.promiseHelper" id="apidoc.module.catberry.promiseHelper">module catberry.promiseHelper</a></h1>


    <h2>
        <a href="#apidoc.element.catberry.promiseHelper.callbackToPromise" id="apidoc.element.catberry.promiseHelper.callbackToPromise">
        function <span class="apidocSignatureSpan">catberry.promiseHelper.</span>callbackToPromise
        <span class="apidocSignatureSpan">(...args)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">methodWithCallback =&#x3e; {

		<span class="apidocCodeCommentSpan">/* eslint no-invalid-this:0 */
</span>		return function(...args) {
			return new Promise((fulfill, reject) =&#x3e; {
				args.push((error, result) =&#x3e; {
					if (error) {
						reject(error);
						return;
					}
					fulfill(result);
				});
				methodWithCallback.apply(this, args);
			});
		};
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
&#x27;use strict&#x27;;

const fs = require(&#x27;fs&#x27;);
const helper = require(&#x27;./promiseHelper&#x27;);

module.exports = {
	exists: toCheck =&#x3e; new Promise(fulfill =&#x3e; fs.exists(toCheck, isExists =&#x3e; fulfill(isExists))),
	makeDir: helper.<span class="apidocCodeKeywordSpan">callbackToPromise</span>(fs.mkdir),
	readFile: helper.callbackToPromise(fs.readFile),
	writeFile: helper.callbackToPromise(fs.writeFile),
	unlink: helper.callbackToPromise(fs.unlink)
};
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.catberry.propertyHelper" id="apidoc.module.catberry.propertyHelper">module catberry.propertyHelper</a></h1>


    <h2>
        <a href="#apidoc.element.catberry.propertyHelper.defineReadOnly" id="apidoc.element.catberry.propertyHelper.defineReadOnly">
        function <span class="apidocSignatureSpan">catberry.propertyHelper.</span>defineReadOnly
        <span class="apidocSignatureSpan">(object, name, value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">(object, name, value) =&#x3e; {
		Object.defineProperty(object, name, {
			enumerable: false,
			configurable: false,
			writable: false,
			value
		});
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	 * @param {URI} additional.location Current location.
	 * @param {string} additional.userAgent Current user agent.
	 */
	create(additional) {
		const apiProvider = this._serviceLocator.resolve(&#x27;moduleApiProvider&#x27;);
		const context = Object.create(apiProvider);
		Object.keys(additional)
			.forEach(key =&#x3e; propertyHelper.<span class="apidocCodeKeywordSpan">defineReadOnly</span>(context, key, additional[key]));
		return context;
	}
}

module.exports = ContextFactory;
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.catberry.requireHelper" id="apidoc.module.catberry.requireHelper">module catberry.requireHelper</a></h1>


    <h2>
        <a href="#apidoc.element.catberry.requireHelper.clearCacheKey" id="apidoc.element.catberry.requireHelper.clearCacheKey">
        function <span class="apidocSignatureSpan">catberry.requireHelper.</span>clearCacheKey
        <span class="apidocSignatureSpan">(/\\|\//g, path.sep)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">key =&#x3e; {
		key = key || &#x27;&#x27;;
		key = key.replace(/\\|\//g, path.sep);
		delete require.cache[key];
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	 */
	_createComponentDescriptor(filename) {
		if (!filename) {
			return null;
		}

		const absolutePath = requireHelper.getAbsoluteRequirePath(filename);
		requireHelper.<span class="apidocCodeKeywordSpan">clearCacheKey</span>(absolutePath);

		var properties;
		try {
			properties = require(absolutePath);
		} catch (e) {
			this._eventBus.emit(&#x27;error&#x27;, e);
		}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.catberry.requireHelper.getAbsoluteRequirePath" id="apidoc.element.catberry.requireHelper.getAbsoluteRequirePath">
        function <span class="apidocSignatureSpan">catberry.requireHelper.</span>getAbsoluteRequirePath
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">filename =&#x3e; `${process.cwd()}/${filename}`</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	 * @private
	 */
	_createComponentDescriptor(filename) {
		if (!filename) {
			return null;
		}

		const absolutePath = requireHelper.<span class="apidocCodeKeywordSpan">getAbsoluteRequirePath</span>(filename);
		requireHelper.clearCacheKey(absolutePath);

		var properties;
		try {
			properties = require(absolutePath);
		} catch (e) {
			this._eventBus.emit(&#x27;error&#x27;, e);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.catberry.requireHelper.getValidPath" id="apidoc.element.catberry.requireHelper.getValidPath">
        function <span class="apidocSignatureSpan">catberry.requireHelper.</span>getValidPath
        <span class="apidocSignatureSpan">(path)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">path =&#x3e; typeof (path) === &#x27;string&#x27; ?
		path.replace(/\\/g, &#x27;\\\\&#x27;) :
		&#x27;&#x27;</pre></li>
    <li>example usage<pre class="apidocCodePre">...
					components: results[1]
				})))
			// check if paths exist and create require statements or undefined
			.then(context =&#x3e;
				pfs.exists(routeDefinitionsPath)
					.then(isExists =&#x3e; {
						const filePath = path.relative(
							process.cwd(), requireHelper.<span class="apidocCodeKeywordSpan">getValidPath</span>(routeDefinitionsPath)
						);
						const requireString = isExists ? `require(&#x27;./${filePath}&#x27;)` : &#x27;null&#x27;;
						const routeDescriptors = [];

						if (isExists) {
							const routeDefinitions = require(routeDefinitionsPath);
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.catberry.templateHelper" id="apidoc.module.catberry.templateHelper">module catberry.templateHelper</a></h1>


    <h2>
        <a href="#apidoc.element.catberry.templateHelper.registerTemplates" id="apidoc.element.catberry.templateHelper.registerTemplates">
        function <span class="apidocSignatureSpan">catberry.templateHelper.</span>registerTemplates
        <span class="apidocSignatureSpan">(component.name, component.compiledTemplate)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">component =&#x3e; {
		component.templateProvider.registerCompiled(component.name, component.compiledTemplate);

		component.template = {
			render: context =&#x3e; component.templateProvider.render(component.name, context)
		};

		if (!component.compiledErrorTemplate) {
			return;
		}

		const errorTemplateName = moduleHelper.getNameForErrorTemplate(component.name);
		component.errorTemplateProvider.registerCompiled(errorTemplateName, component.compiledErrorTemplate);

		component.errorTemplate = {
			render: context =&#x3e; component.errorTemplateProvider.render(errorTemplateName, context)
		};
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
				component.errorTemplateProvider = this._templateProvidersByNames[component.errorTemplateProviderName];

				if (!component.templateProvider &#x26;&#x26;
						(component.errorTemplateProviderName &#x26;&#x26; !component.errorTemplateProvider)) {
					throw new Error(`Template provider required by the component &#x22;${component.name}&#x22; not found`);
				}

				templateHelper.<span class="apidocCodeKeywordSpan">registerTemplates</span>(component);

				this._eventBus.emit(&#x27;componentLoaded&#x27;, component);
				return component;
			})
			.catch(reason =&#x3e; {
				this._eventBus.emit(&#x27;error&#x27;, reason);
				return null;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.catberry.templateHelper.resolveTemplateProviders" id="apidoc.element.catberry.templateHelper.resolveTemplateProviders">
        function <span class="apidocSignatureSpan">catberry.templateHelper.</span>resolveTemplateProviders
        <span class="apidocSignatureSpan">(&#x27;eventBus&#x27;)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">locator =&#x3e; {
		const eventBus = locator.resolve(&#x27;eventBus&#x27;);
		try {
			return locator
				.resolveAll(&#x27;templateProvider&#x27;)
				.filter(provider =&#x3e; {
					const isValid = typeof (provider.getName) === &#x27;function&#x27; &#x26;&#x26;
									typeof (provider.registerCompiled) === &#x27;function&#x27; &#x26;&#x26;
									typeof (provider.render) === &#x27;function&#x27;;
					if (!isValid) {
						eventBus.emit(&#x27;warn&#x27;, &#x27;Template provider does not have required methods, skipping...&#x27;);
					}
					return isValid;
				});
		} catch (e) {
			return [];
		}
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
		this._eventBus = locator.resolve(&#x27;eventBus&#x27;);

		/**
		 * Current template provider list.
		 * @type {Array&#x3c;TemplateProvider&#x3e;}
		 * @private
		 */
		this._templateProviders = templateHelper.<span class="apidocCodeKeywordSpan">resolveTemplateProviders</span>(locator);

		/**
		 * Current route parser.
		 * @type {RouteParser}
		 * @private
		 */
		this._routeParser = new RouteParser();
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.catberry.templateHelper.resolveTemplateProvidersByNames" id="apidoc.element.catberry.templateHelper.resolveTemplateProvidersByNames">
        function <span class="apidocSignatureSpan">catberry.templateHelper.</span>resolveTemplateProvidersByNames
        <span class="apidocSignatureSpan">(locator)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">locator =&#x3e; {
		return helper
			.resolveTemplateProviders(locator)
			.reduce((map, current) =&#x3e; {
				map[current.getName()] = current;
				return map;
			}, Object.create(null));
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

		/**
		 * Current template provider map.
		 * @type {Object}
		 * @private
		 */
		this._templateProvidersByNames = templateHelper
			.<span class="apidocCodeKeywordSpan">resolveTemplateProvidersByNames</span>(locator);

		/**
		 * Current map of loaded components by names.
		 * @type {Object} Map of components by names.
		 * @private
		 */
		this._loadedComponents = null;
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.catberry.uriHelper" id="apidoc.module.catberry.uriHelper">module catberry.uriHelper</a></h1>


    <h2>
        <a href="#apidoc.element.catberry.uriHelper.removeEndSlash" id="apidoc.element.catberry.uriHelper.removeEndSlash">
        function <span class="apidocSignatureSpan">catberry.uriHelper.</span>removeEndSlash
        <span class="apidocSignatureSpan">(uriPath)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">removeEndSlash(uriPath) {
		if (!uriPath || typeof (uriPath) !== &#x27;string&#x27;) {
			return &#x27;&#x27;;
		}
		if (uriPath === &#x27;/&#x27;) {
			return uriPath;
		}
		return uriPath.replace(PATH_END_SLASH_REG_EXP, &#x27;$1$2&#x27;);
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
			return null;
		}

		uri = uri.clone();
		uri.scheme = null;
		uri.authority = null;
		uri.fragment = null;
		uri.path = uriHelper.<span class="apidocCodeKeywordSpan">removeEndSlash</span>(uri.path);

		const state = this._mapState(uri);
		if (!state) {
			return null;
		}

		// make state object immutable
...</pre></li>
    </ul>


</div>

<div class="apidocFooterDiv">
    [ this document was created with
    <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a>
    ]
</div>
</div>
